In this task, we perform the ROP attack. Becase 'get_name' function doesn't have a stack canary, we can overwrite the return address on top of the stack. My overall mindset is to spawn a shell with escalated priviledge. Therefore, first I invoke the 'setreuid()' system call. To do that, I need to find gadgets with appropriate register operation, so I wrote a script to find the addresses of those gadget in 'find_gadget.py'. For example, the address of 'pop rdi, ret' is at 0x401eff. To
invoke 'setreuid()', I put the syscall number 113 into RAX, and two arguments, which both equal to task02flag_uid into RDI and RSI, at last the address of 'syscall'. Then, we write the string '/bin/sh' into .data section of the program. Afterwards, we invoke 'execve' syscall with RAX loaded to 59, RDI to the '/bin/sh' address, RSI and RDX both to 0. Then, we are able to spawn a shell with 'task02flag' priviledge, which enables us to 'cat flag.txt'.
The detailed exploit script is in 'exploit.py'
